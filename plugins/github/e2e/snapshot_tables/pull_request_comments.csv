id,pull_request_id,body,user_id,created_date,commit_sha,position
gitlab:GithubPullRequest:407675431,gitlab:GithubPullRequest:203756736,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=h1) Report\n> Merging [#4](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/f5b37d0798a8e4c6780a1e08270fa50e979aa1d7?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/4/graphs/tree.svg?token=JFa3laaGKq&width=650&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=tree)\n\n```diff\n@@          Coverage Diff          @@\n##           master     #4   +/-   ##\n=====================================\n  Coverage     100%   100%           \n=====================================\n  Files           5      5           \n  Lines         237    241    +4     \n=====================================\n+ Hits          237    241    +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `100% <100%> (ø)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/4/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `100% <100%> (ø)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=footer). Last update [f5b37d0...83042d7](https://codecov.io/gh/panjf2000/ants/pull/4?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2018-07-25T16:25:22.000+08:00,,0
gitlab:GithubPullRequest:407714136,gitlab:GithubPullRequest:203756736,"""@barryz 改的不错，不过有一点需要商榷，那个预分配的大小，之前benchmark我记得1000w也只需要用到7w多，这样的话预分配5w对于大部分场景其实有点浪费，你有没有用修改后的代码benchmark一下，每次allocs/op应该是变大了吧""",gitlab:GithubUser:7496278,2018-07-25T18:49:44.000+08:00,,0
gitlab:GithubPullRequest:407755528,gitlab:GithubPullRequest:203756736,"""@panjf2000  因为从压测结果来看， 1000W的场景下goroutine池的作用很明显， 尤其是在节省内存开销方面，所以在选择默认worker数量时，取了一个相对较大的值。 下面是benchmark 对比\r\n\r\nmaster:\r\n\r\n```\r\ngoos: linux\r\ngoarch: amd64\r\nBenchmarkGoroutineWithFunc-4           1        15079030287 ns/op       723120296 B/op  10176159 allocs/op\r\nPASS\r\nok      command-line-arguments  15.106s\r\n```\r\n\r\nPR:\r\n```\r\ngoos: linux\r\ngoarch: amd64\r\nBenchmarkGoroutineWithFunc-4           1        15443376244 ns/op       720962888 B/op  10167850 allocs/op\r\nPASS\r\nok      command-line-arguments  15.479s\r\n```\r\n""",gitlab:GithubUser:16658738,2018-07-25T21:33:42.000+08:00,,0
gitlab:GithubPullRequest:407764945,gitlab:GithubPullRequest:203756736,"""@barryz 这样看起来预分配似乎没有太大的内存优势，相反在其他数量的任务量场景下可能还会有点浪费，这样吧，要不你先把预分配内存这一块的暂时移除，然后我合一下优化代码的部分，至于预分配内存这一块，后续再继续讨论下看看有没有能兼顾的办法""",gitlab:GithubUser:7496278,2018-07-25T22:02:41.000+08:00,,0
gitlab:GithubPullRequest:416794440,gitlab:GithubPullRequest:211603583,"""@hongli-my 不好意思，我没太懂你的意图？能麻烦说详细点吗？""",gitlab:GithubUser:7496278,2018-08-29T09:39:23.000+08:00,,0
gitlab:GithubPullRequest:416794871,gitlab:GithubPullRequest:211603583,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=h1) Report\n> Merging [#8](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/666635c65d8d3bb1223b819325e0bd23c81f2733?src=pr&el=desc) will **decrease** coverage by `1.24%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/8/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master       #8      +/-   ##\n==========================================\n- Coverage     100%   98.75%   -1.25%     \n==========================================\n  Files           5        5              \n  Lines         241      241              \n==========================================\n- Hits          241      238       -3     \n- Misses          0        2       +2     \n- Partials        0        1       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/8/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/8/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `97.19% <0%> (-2.81%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=footer). Last update [666635c...afd6871](https://codecov.io/gh/panjf2000/ants/pull/8?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2018-08-29T09:42:05.000+08:00,,0
gitlab:GithubPullRequest:416803651,gitlab:GithubPullRequest:211603583,"""```n := 0\r\n\t\tfor i, w := range idleWorkers {\r\n\t\t\tif currentTime.Sub(w.recycleTime) <= p.expiryDuration {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\tn = i\r\n\t\t\tw.args <- nil\r\n\t\t\tidleWorkers[i] = nil\r\n\t\t}\r\n\t\tn++\r\n\t\tif n >= len(idleWorkers) {\r\n\t\t\tp.workers = idleWorkers[:0]\r\n\t\t} else {\r\n\t\t\tp.workers = idleWorkers[n:]\r\n\t\t}```\r\nfor 循环中，如果for 循环没有满足条件，n 并没有复制，此时n ++,   n 变为1， p.workers = idleWorkers[1:],  idleWorkers[0] 丢弃了？ 但是并没有w.args <- nil 操作""",gitlab:GithubUser:8597823,2018-08-29T10:34:07.000+08:00,,0
gitlab:GithubPullRequest:416818094,gitlab:GithubPullRequest:211603583,"""@hongli-my 嗯，我知道了，但是你的修改似乎不完整，我已经在develop分支改了一版，要不你看下那个分支，然后按照那个再改一下，然后我再merge""",gitlab:GithubUser:7496278,2018-08-29T12:11:17.000+08:00,,0
gitlab:GithubPullRequest:421884048,gitlab:GithubPullRequest:211603583,"""对于worker中的chan应该也需要close吧，当协程数量增大时，这种也是一种消耗""",gitlab:GithubUser:29241786,2018-09-17T11:37:44.000+08:00,,0
gitlab:GithubPullRequest:425423544,gitlab:GithubPullRequest:218939809,"""@liyonglion 我看修改的代码应该是正确的，但是有两个问题：\r\n1. 要正确测试你pr，你要把ants_test.go里import ants的路径改成你自己的路径；\r\n2. 你现在只修改了pool.go的代码，麻烦把pool_func.go里相应的地方也优化一下。\r\n\r\n你重新修改一下pr，然后通过测试，我就merge了。""",gitlab:GithubUser:7496278,2018-09-28T20:43:30.000+08:00,,0
gitlab:GithubPullRequest:425428914,gitlab:GithubPullRequest:218939809,"""我又仔细地想了想，在putWorker方法中，调用p.cond.Signal()之前，p.lock已经解锁了，如果这时候被\r\n![image](https://user-images.githubusercontent.com/7496278/46209831-824b0a00-c361-11e8-9109-609d21bab572.png)\r\n这里获得锁，则空闲队列中的刚刚放入的worker会被取出，这时候p.cond.Wait()再获得锁去队列中取worker的时候就会取不到，len(p.workers) - 1就会是-1，会报错：index out of range，和https://github.com/panjf2000/ants/issues/6 相似的问题，所以p.cond.Signal()应该放在putWorker中的p.lock.Lock()和p.lock.Unlock()之间。\r\n""",gitlab:GithubUser:7496278,2018-09-28T21:03:48.000+08:00,,0
gitlab:GithubPullRequest:425431081,gitlab:GithubPullRequest:218939809,"""我明天仔细研究下。如果这个地方的死锁不好解决，其实可以使用另外一把锁，专门给条件变量使用。""",gitlab:GithubUser:12890888,2018-09-28T21:12:08.000+08:00,,0
gitlab:GithubPullRequest:425432498,gitlab:GithubPullRequest:218939809,"""单一操作变量最好不要有多个锁，这样引发死锁的概率会非常高。""",gitlab:GithubUser:7496278,2018-09-28T21:17:44.000+08:00,,0
gitlab:GithubPullRequest:425438107,gitlab:GithubPullRequest:218939809,"""新的锁只给条件变量使用，其他任何地方都不会使用。如果怕死锁，明天我封装一层，pool层只有一把锁。""",gitlab:GithubUser:12890888,2018-09-28T21:37:48.000+08:00,,0
gitlab:GithubPullRequest:425439137,gitlab:GithubPullRequest:218939809,"""封装一层后，按照你的思路修改应该就可以了。""",gitlab:GithubUser:12890888,2018-09-28T21:41:20.000+08:00,,0
gitlab:GithubPullRequest:425608265,gitlab:GithubPullRequest:218939809,"""看了下代码，你说的没错。我在测试下性能方面""",gitlab:GithubUser:12890888,2018-09-29T10:22:39.000+08:00,,0
gitlab:GithubPullRequest:425609411,gitlab:GithubPullRequest:218939809,"""![image](https://user-images.githubusercontent.com/7496278/46240052-34bbb500-c3d4-11e8-809b-46b429039aee.png)\r\n你这改的有问题，取出来后没有对workers队列缩容，现在Travis CI整个卡住了""",gitlab:GithubUser:7496278,2018-09-29T10:41:56.000+08:00,,0
gitlab:GithubPullRequest:425609608,gitlab:GithubPullRequest:218939809,"""嗯，到时候我会补上。容我再想想""",gitlab:GithubUser:12890888,2018-09-29T10:45:23.000+08:00,,0
gitlab:GithubPullRequest:425622339,gitlab:GithubPullRequest:218939809,"""性能测试如下：\r\n100w的并发，5w的goroutine\r\n![snip20180929_3](https://user-images.githubusercontent.com/12890888/46242225-93932580-c3f8-11e8-841c-fc7fc620313d.png)\r\n\r\n![snip20180929_5](https://user-images.githubusercontent.com/12890888/46242227-9beb6080-c3f8-11e8-80fa-5d01da9aba19.png)\r\n""",gitlab:GithubUser:12890888,2018-09-29T15:02:56.000+08:00,,0
gitlab:GithubPullRequest:425622437,gitlab:GithubPullRequest:218939809,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=h1) Report\n> Merging [#13](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/af376f1b7b59dc488458bcecd4273f0fcde33c55?src=pr&el=desc) will **decrease** coverage by `90.38%`.\n> The diff coverage is `5%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/13/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #13       +/-   ##\n==========================================\n- Coverage   98.75%   8.36%   -90.39%     \n==========================================\n  Files           5       5               \n  Lines         241     239        -2     \n==========================================\n- Hits          238      20      -218     \n- Misses          1     214      +213     \n- Partials        2       5        +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `0% <0%> (-97.23%)` | :arrow_down: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `18.86% <10%> (-81.14%)` | :arrow_down: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `0% <0%> (-100%)` | :arrow_down: |\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `0% <0%> (-100%)` | :arrow_down: |\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/13/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `0% <0%> (-100%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=footer). Last update [af376f1...1846b43](https://codecov.io/gh/panjf2000/ants/pull/13?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2018-09-29T15:05:01.000+08:00,,0
gitlab:GithubPullRequest:425623081,gitlab:GithubPullRequest:218939809,"""@panjf2000  这个覆盖率怎么看？""",gitlab:GithubUser:12890888,2018-09-29T15:16:02.000+08:00,,0
gitlab:GithubPullRequest:425632550,gitlab:GithubPullRequest:218939809,"""怎么会有负数。。。""",gitlab:GithubUser:7496278,2018-09-29T17:53:47.000+08:00,,0
gitlab:GithubPullRequest:425632613,gitlab:GithubPullRequest:218939809,"""而且你那个取出worker之后还是没有对队列进行缩容吧""",gitlab:GithubUser:7496278,2018-09-29T17:54:48.000+08:00,,0
gitlab:GithubPullRequest:425632632,gitlab:GithubPullRequest:218939809,"""这个我没玩过。。。。""",gitlab:GithubUser:12890888,2018-09-29T17:55:07.000+08:00,,0
gitlab:GithubPullRequest:425632777,gitlab:GithubPullRequest:218939809,"""@panjf2000  我缩容了，具体哪个地方？""",gitlab:GithubUser:12890888,2018-09-29T17:57:34.000+08:00,,0
gitlab:GithubPullRequest:425637776,gitlab:GithubPullRequest:218939809,"""@liyonglion 我看错了，缩容的补上了，这块没什么问题了，关于覆盖率这块我明天再查查。。。""",gitlab:GithubUser:7496278,2018-09-29T19:25:56.000+08:00,,0
gitlab:GithubPullRequest:425637938,gitlab:GithubPullRequest:218939809,"""哦，我知道了，应该是那个import路径的问题导致的，那我先merge一下代码""",gitlab:GithubUser:7496278,2018-09-29T19:29:28.000+08:00,,0
gitlab:GithubPullRequest:425896318,gitlab:GithubPullRequest:219363161,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=h1) Report\n> Merging [#14](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/1b62696050b7030106291980d5220f886b017eff?src=pr&el=desc) will **decrease** coverage by `2.12%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/14/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master     #14      +/-   ##\n=========================================\n- Coverage   98.32%   96.2%   -2.13%     \n=========================================\n  Files           5       5              \n  Lines         239     237       -2     \n=========================================\n- Hits          235     228       -7     \n- Misses          2       4       +2     \n- Partials        2       5       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/14/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.19% <100%> (-1.93%)` | :arrow_down: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/14/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `95.28% <100%> (-2.85%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=footer). Last update [1b62696...5ed1687](https://codecov.io/gh/panjf2000/ants/pull/14?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2018-10-01T20:53:39.000+08:00,,0
gitlab:GithubPullRequest:425906970,gitlab:GithubPullRequest:219363161,"""thanks for your correction and could you also modify the pool_func.go cuz there is also the same useless statement in that file. i will accept this pr after your modification is done, thanks.""",gitlab:GithubUser:7496278,2018-10-01T21:27:04.000+08:00,,0
gitlab:GithubPullRequest:426537013,gitlab:GithubPullRequest:219936521,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=h1) Report\n> Merging [#15](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/29730bb70343924a2f56a13a9799611dd1cd27fd?src=pr&el=desc) will **decrease** coverage by `0.84%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/15/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##           master     #15      +/-   ##\n=========================================\n- Coverage   97.04%   96.2%   -0.85%     \n=========================================\n  Files           5       5              \n  Lines         237     237              \n=========================================\n- Hits          230     228       -2     \n- Misses          3       4       +1     \n- Partials        4       5       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/15/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.19% <0%> (-1.91%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=footer). Last update [29730bb...3070771](https://codecov.io/gh/panjf2000/ants/pull/15?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2018-10-03T15:23:08.000+08:00,,0
gitlab:GithubPullRequest:426596957,gitlab:GithubPullRequest:219936521,"""@egonelbre thanks for your interest in this repository and i got some puzzles.\r\nfirstly, i don't understand why you use both the chan struct{} and sync.WaitGroup at once, that seems a bit excessive cuz waitgroup and chan did the same thing.\r\nsecondly, method BenchmarkGoroutine was design to test throughput so it should run without waitgroup.""",gitlab:GithubUser:7496278,2018-10-03T19:05:45.000+08:00,,0
gitlab:GithubPullRequest:426604764,gitlab:GithubPullRequest:219936521,"""Hi, semaphore acts as protection to avoid starting too many goroutines at once. `WaitGroup` is used to wait for everything to complete.\r\n\r\n`BenchmarkGoroutine` doesn't wait for all the goroutines to finish, so you are testing goroutine startup speed rather than throughput. It's somewhat unclear what you mean by \""throughput\"" in this case, but either way you would need to wait for all goroutines to finish, otherwise they will start affecting all other benchmarks. If you do want to benchmark goroutine startup speed, then you would need to add `b.StopTimer` before `wg.Wait`.""",gitlab:GithubUser:192964,2018-10-03T19:37:48.000+08:00,,0
gitlab:GithubPullRequest:429609579,gitlab:GithubPullRequest:222703171,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=h1) Report\n> Merging [#16](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/711dbdb7a222771ce15aaee1bb7b7c6e9731f208?src=pr&el=desc) will **decrease** coverage by `2.03%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/16/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #16      +/-   ##\n==========================================\n- Coverage   97.46%   95.43%   -2.04%     \n==========================================\n  Files           5        5              \n  Lines         237      241       +4     \n==========================================\n- Hits          231      230       -1     \n- Misses          3        5       +2     \n- Partials        3        6       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/16/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `94.39% <0%> (-1.8%)` | :arrow_down: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/16/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `95.37% <0%> (-2.75%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=footer). Last update [711dbdb...439348b](https://codecov.io/gh/panjf2000/ants/pull/16?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2018-10-14T17:24:39.000+08:00,,0
gitlab:GithubPullRequest:433821356,gitlab:GithubPullRequest:211603583,"""这种bugfix是不是应该赶紧修了？""",gitlab:GithubUser:8923413,2018-10-29T16:10:59.000+08:00,,0
gitlab:GithubPullRequest:434126048,gitlab:GithubPullRequest:211603583,"""@choleraehyq 这个很早就已经修复了这个pr一直忘了关。""",gitlab:GithubUser:7496278,2018-10-30T08:10:32.000+08:00,,0
gitlab:GithubPullRequest:434126349,gitlab:GithubPullRequest:211603583,"""@MrDragon1122 一般来说channel是不需要显式close的，只要没有goroutine持有channel，相关资源会自动释放。""",gitlab:GithubUser:7496278,2018-10-30T08:12:13.000+08:00,,0
gitlab:GithubPullRequest:439758381,gitlab:GithubPullRequest:231840723,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=h1) Report\n> Merging [#19](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=desc) into [develop](https://codecov.io/gh/panjf2000/ants/commit/92acf74bb71c1dc1758c61346c88325284978b3e?src=pr&el=desc) will **increase** coverage by `0.02%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/19/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           develop      #19      +/-   ##\n===========================================\n+ Coverage    97.46%   97.48%   +0.02%     \n===========================================\n  Files            5        5              \n  Lines          237      239       +2     \n===========================================\n+ Hits           231      233       +2     \n  Misses           3        3              \n  Partials         3        3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/19/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.22% <100%> (+0.03%)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/19/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `98.13% <100%> (+0.01%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=footer). Last update [92acf74...e7bacd0](https://codecov.io/gh/panjf2000/ants/pull/19?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2018-11-19T11:06:06.000+08:00,,0
gitlab:GithubPullRequest:439758480,gitlab:GithubPullRequest:231840723,"""我自己写了测试示例\r\n重复\r\nants.NewPoolWithFunc()\r\n然后\r\n进行Resize(0) && Release\r\n但仍发现内存泄漏现象，追溯到了NewTicker没有进行Stop可能导致\r\n\r\nflat  flat%   sum%        cum   cum%\r\n\r\n 7168.57kB 77.60% 77.60%  7168.57kB 77.60%  time.NewTicker\r\n\r\n\r\n\r\n""",gitlab:GithubUser:7931755,2018-11-19T11:06:50.000+08:00,,0
gitlab:GithubPullRequest:439781607,gitlab:GithubPullRequest:231840723,"""突然看到一个PR有更完善的解决方式，不知道为啥没有PR成功""",gitlab:GithubUser:7931755,2018-11-19T14:07:43.000+08:00,,0
gitlab:GithubPullRequest:439793352,gitlab:GithubPullRequest:231840723,"""另外一个pr跟你大概是完成类似的功能，不过那个failed之后作者就没再更新了，所以就没有merge，你要是有时间不如参考下他的代码再优化下？就放到这个pr里。""",gitlab:GithubUser:7496278,2018-11-19T15:14:58.000+08:00,,0
gitlab:GithubPullRequest:456033956,gitlab:GithubPullRequest:246250598,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=h1) Report\n> Merging [#23](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/812dd4e01075be3cf97429a43abaf6837908cdcd?src=pr&el=desc) will **decrease** coverage by `1.02%`.\n> The diff coverage is `71.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/23/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #23      +/-   ##\n==========================================\n- Coverage   97.07%   96.04%   -1.03%     \n==========================================\n  Files           5        5              \n  Lines         239      253      +14     \n==========================================\n+ Hits          232      243      +11     \n- Misses          3        5       +2     \n- Partials        4        5       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `98.13% <ø> (+2.8%)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `96.22% <ø> (-1.89%)` | :arrow_down: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `86.66% <71.42%> (-13.34%)` | :arrow_down: |\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/23/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `86.66% <71.42%> (-13.34%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=footer). Last update [812dd4e...5bbc9e1](https://codecov.io/gh/panjf2000/ants/pull/23?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-01-21T19:00:28.000+08:00,,0
gitlab:GithubPullRequest:456071084,gitlab:GithubPullRequest:246250598,"""@choleraehyq \r\nbuild失败了，解决一下？""",gitlab:GithubUser:7496278,2019-01-21T21:18:19.000+08:00,,0
gitlab:GithubPullRequest:456261758,gitlab:GithubPullRequest:246250598,"""@panjf2000 这是测试覆盖率的问题吧，我已经测了设置 PanicHandler 的情况了，不设置的情况一测就 panic 了，而且是在一个 worker 里 panic，没法 recover""",gitlab:GithubUser:8923413,2019-01-22T11:45:04.000+08:00,,0
gitlab:GithubPullRequest:456270386,gitlab:GithubPullRequest:246250598,"""@choleraehyq \r\n三点：\r\n1. CI failed是因为TestPanicHandler测试失败了\r\n![image](https://user-images.githubusercontent.com/7496278/51513040-ba5fe680-1e43-11e9-92eb-6af6fa1242c9.png)\r\n2. 在Worker的recover里面，需要再加一个w.pool.decRunning()，因为panic之后这个goroutine就销毁了，所以要更新pool中的可用worker数量\r\n3. 麻烦在pool_func.go和worker_func.go里面也相应地加上PanicHandler的逻辑以及对应的unit tests\r\n\r\nThanks.""",gitlab:GithubUser:7496278,2019-01-22T12:50:28.000+08:00,,0
gitlab:GithubPullRequest:456273052,gitlab:GithubPullRequest:246250598,"""@panjf2000 thanks，修了""",gitlab:GithubUser:8923413,2019-01-22T13:10:00.000+08:00,,0
gitlab:GithubPullRequest:456277710,gitlab:GithubPullRequest:246250598,"""Thanks for your contributions to `ants`!""",gitlab:GithubUser:7496278,2019-01-22T13:41:10.000+08:00,,0
gitlab:GithubPullRequest:1025098547,gitlab:GithubPullRequest:835038436,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/210?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) Report\n> Merging [#210](https://codecov.io/gh/panjf2000/ants/pull/210?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (0e17530) into [master](https://codecov.io/gh/panjf2000/ants/commit/1e897421860606afc3d1304cafe5cd187cee13e9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (1e89742) will **increase** coverage by `2.04%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/210/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)](https://codecov.io/gh/panjf2000/ants/pull/210?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #210      +/-   ##\n==========================================\n+ Coverage   93.03%   95.07%   +2.04%     \n==========================================\n  Files           9        9              \n  Lines         603      650      +47     \n==========================================\n+ Hits          561      618      +57     \n+ Misses         33       23      -10     \n  Partials        9        9              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests | `95.07% <100.00%> (+2.04%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/210?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-cG9vbC5nbw==) | `93.18% <100.00%> (+3.30%)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-cG9vbF9mdW5jLmdv) | `94.47% <100.00%> (+2.84%)` | :arrow_up: |\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/210/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `94.54% <0.00%> (+2.14%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/210?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/210?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Last update [1e89742...0e17530](https://codecov.io/gh/panjf2000/ants/pull/210?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n""",gitlab:GithubUser:22429695,2022-01-30T16:53:25.000+08:00,,0
gitlab:GithubPullRequest:1034973505,gitlab:GithubPullRequest:842184289,"""@panjf2000 Would you allow this PR to run the workflows? I'd like to see their results if possible.""",gitlab:GithubUser:15234973,2022-02-10T22:17:10.000+08:00,,0
gitlab:GithubPullRequest:1034988524,gitlab:GithubPullRequest:842184289,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/211?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) Report\n> Merging [#211](https://codecov.io/gh/panjf2000/ants/pull/211?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (2be767d) into [master](https://codecov.io/gh/panjf2000/ants/commit/0fa2fd6dc1811f81026a252854f4a8c0471ac7b0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (0fa2fd6) will **decrease** coverage by `0.65%`.\n> The diff coverage is `93.33%`.\n\n> :exclamation: Current head 2be767d differs from pull request most recent head 8631166. Consider uploading reports for the commit 8631166 to get more accurate results\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/211/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)](https://codecov.io/gh/panjf2000/ants/pull/211?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #211      +/-   ##\n==========================================\n- Coverage   94.96%   94.31%   -0.66%     \n==========================================\n  Files           9        8       -1     \n  Lines         636      457     -179     \n==========================================\n- Hits          604      431     -173     \n+ Misses         23       19       -4     \n+ Partials        9        7       -2     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests | `94.31% <93.33%> (-0.66%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/211?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) | Coverage Δ | |\n|---|---|---|\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/211/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-cG9vbF9mdW5jLmdv) | `86.48% <93.33%> (-7.79%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/211?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/211?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Last update [0fa2fd6...8631166](https://codecov.io/gh/panjf2000/ants/pull/211?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n""",gitlab:GithubUser:22429695,2022-02-10T22:30:35.000+08:00,,0
gitlab:GithubPullRequest:1039111612,gitlab:GithubPullRequest:835038436,"""Thanks~""",gitlab:GithubUser:7496278,2022-02-14T21:51:48.000+08:00,,0
gitlab:GithubPullRequest:515477756,gitlab:GithubPullRequest:301421607,"""> By the way, you said you faced a performance issue when you were unable to pre-malloc memory of workers slice, so you are proposing this PR. My question is: did you apply this memory optimization logic to your own `ants` and get an enhancement in your go services as expected?\r\n\r\nYes, I have applied it on my online server. which almost have 3 million app users with three server. Just as I say, Locking at high concurrency is like an atomic bomb.Even if I only use rand during the lock. Another things that I did for the performance is that I map the task to 10 pool, That is to say, each go program has about 5 million goroutines using 10 ants pools, each of which has a pool slice of 50 0000, which also improves the performance of slice locks like a sharding map.\r\n""",gitlab:GithubUser:17495446,2019-07-26T22:32:55.000+08:00,,0
gitlab:GithubPullRequest:479866809,gitlab:GithubPullRequest:267414275,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/30?src=pr&el=h1) Report\n> Merging [#30](https://codecov.io/gh/panjf2000/ants/pull/30?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/4ae3fb8dc413492862469027bb58cb45b77338f1?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/30/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/30?src=pr&el=tree)\n\n```diff\n@@          Coverage Diff           @@\n##           master     #30   +/-   ##\n======================================\n  Coverage    97.7%   97.7%           \n======================================\n  Files           5       5           \n  Lines         261     261           \n======================================\n  Hits          255     255           \n  Misses          3       3           \n  Partials        3       3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/30?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/30/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `85.71% <ø> (ø)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/30?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/30?src=pr&el=footer). Last update [4ae3fb8...ec5d1f3](https://codecov.io/gh/panjf2000/ants/pull/30?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-04-04T19:55:09.000+08:00,,0
gitlab:GithubPullRequest:514537987,gitlab:GithubPullRequest:300598936,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/39?src=pr&el=h1) Report\n> Merging [#39](https://codecov.io/gh/panjf2000/ants/pull/39?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/fc48d32604efc2b36d144b8f83d34c1aa1fda1c9?src=pr&el=desc) will **decrease** coverage by `0.72%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/39/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/39?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #39      +/-   ##\n==========================================\n- Coverage   98.51%   97.78%   -0.73%     \n==========================================\n  Files           5        5              \n  Lines         269      271       +2     \n==========================================\n  Hits          265      265              \n- Misses          2        3       +1     \n- Partials        2        3       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/39?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/39/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `98.18% <100%> (+0.03%)` | :arrow_up: |\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/39/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `85.71% <0%> (-14.29%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/39?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/39?src=pr&el=footer). Last update [fc48d32...b44a128](https://codecov.io/gh/panjf2000/ants/pull/39?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-07-24T16:40:48.000+08:00,,0
gitlab:GithubPullRequest:514639613,gitlab:GithubPullRequest:300598936,"""这部分修改是参考fasthttp里面的吧，逻辑倒是没什么问题，但是你说原来的写法有内存泄漏，哪里会泄露？""",gitlab:GithubUser:7496278,2019-07-24T21:47:57.000+08:00,,0
gitlab:GithubPullRequest:515362920,gitlab:GithubPullRequest:301421607,"""Firstly thanks for your interest to `ants` and your branch failed to build CI: [build failed](https://travis-ci.com/panjf2000/ants/jobs/219868006) due to the my previous code changes error, so please `git pull --rebase` onto your branch and re-submit this PR, thanks~""",gitlab:GithubUser:7496278,2019-07-26T16:35:50.000+08:00,,0
gitlab:GithubPullRequest:515363627,gitlab:GithubPullRequest:301421607,"""Besides, if you intend to add new feature into `ants`, please make sure that you implement the new feature in both `pool.go, worker.go` and `pool_func.go, worker_func.go`.""",gitlab:GithubUser:7496278,2019-07-26T16:38:06.000+08:00,,0
gitlab:GithubPullRequest:515377253,gitlab:GithubPullRequest:301421607,"""Please check out the error meesage, you have to update the corresponding unit test file `ants_test.go`.""",gitlab:GithubUser:7496278,2019-07-26T17:22:45.000+08:00,,0
gitlab:GithubPullRequest:515383375,gitlab:GithubPullRequest:301421607,"""Sorry, I am negligent. I am fixing it.  \r\n""",gitlab:GithubUser:17495446,2019-07-26T17:42:03.000+08:00,,0
gitlab:GithubPullRequest:515403092,gitlab:GithubPullRequest:301421607,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/40?src=pr&el=h1) Report\n> Merging [#40](https://codecov.io/gh/panjf2000/ants/pull/40?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/f447bf104a4eff069b6019db406c31dd54d7b3ef?src=pr&el=desc) will **increase** coverage by `0.18%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/40/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/40?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #40      +/-   ##\n==========================================\n+ Coverage    97.8%   97.98%   +0.18%     \n==========================================\n  Files           5        5              \n  Lines         273      298      +25     \n==========================================\n+ Hits          267      292      +25     \n  Misses          3        3              \n  Partials        3        3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/40?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/40/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/40/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `98.34% <100%> (+0.14%)` | :arrow_up: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/40/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `100% <100%> (ø)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/40/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `98.31% <100%> (+0.13%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/40?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/40?src=pr&el=footer). Last update [f447bf1...5dc8b9a](https://codecov.io/gh/panjf2000/ants/pull/40?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-07-26T18:36:10.000+08:00,,0
gitlab:GithubPullRequest:515405698,gitlab:GithubPullRequest:301421607,"""@panjf2000 PTAL""",gitlab:GithubUser:17495446,2019-07-26T18:44:07.000+08:00,,0
gitlab:GithubPullRequest:515433726,gitlab:GithubPullRequest:301421607,"""I've reviewed this PR and I will merge it into `master` after you use `git rebase` to squash all commits in this PR, here is the instruction you can refer: [squash-commits-into-one-git](https://www.internalpointers.com/post/squash-commits-into-one-git)""",gitlab:GithubUser:7496278,2019-07-26T20:35:54.000+08:00,,0
gitlab:GithubPullRequest:515435976,gitlab:GithubPullRequest:301421607,"""By the way, you said you faced a performance issue when you were unable to pre-malloc memory of workers slice, so you are proposing this PR. My question is: did you apply this memory optimization logic to your own `ants`  and get an enhancement in your go services as expected?""",gitlab:GithubUser:7496278,2019-07-26T20:43:51.000+08:00,,0
gitlab:GithubPullRequest:515478312,gitlab:GithubPullRequest:301421607,"""> I've reviewed this PR and I will merge it into `master` after you use `git rebase` to squash all commits in this PR, here is the instruction you can refer: [squash-commits-into-one-git](https://www.internalpointers.com/post/squash-commits-into-one-git)\r\n\r\nthx. I squash it.""",gitlab:GithubUser:17495446,2019-07-26T22:34:30.000+08:00,,0
gitlab:GithubPullRequest:515482037,gitlab:GithubPullRequest:301421607,"""> By the way, you said you faced a performance issue when you were unable to pre-malloc memory of workers slice, so you are proposing this PR. My question is: did you apply this memory optimization logic to your own `ants` and get an enhancement in your go services as expected?\r\n\r\nBefore this, the pprof report almost always had tens of thousands or even hundreds of thousands of goroutines blocked on the retrieveWorker lock or other related locks. After the improvement, this situation will not appear again.""",gitlab:GithubUser:17495446,2019-07-26T22:44:36.000+08:00,,0
gitlab:GithubPullRequest:522268586,gitlab:GithubPullRequest:292246524,"""长时间未回复，关闭PR。""",gitlab:GithubUser:7496278,2019-08-18T04:32:55.000+08:00,,0
gitlab:GithubPullRequest:522837327,gitlab:GithubPullRequest:308859272,"""/cc @panjf2000 """,gitlab:GithubUser:8923413,2019-08-20T11:24:37.000+08:00,,0
gitlab:GithubPullRequest:522837906,gitlab:GithubPullRequest:308859272,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/41?src=pr&el=h1) Report\n> Merging [#41](https://codecov.io/gh/panjf2000/ants/pull/41?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/dc8169d5c2645bfc507d6993b7d215326300f31b?src=pr&el=desc) will **decrease** coverage by `1.6%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/41/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/41?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #41      +/-   ##\n==========================================\n- Coverage   96.75%   95.15%   -1.61%     \n==========================================\n  Files           5        5              \n  Lines         308      330      +22     \n==========================================\n+ Hits          298      314      +16     \n- Misses          6       10       +4     \n- Partials        4        6       +2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/41?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/41/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `85.71% <ø> (ø)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/41/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `95.62% <100%> (-2.8%)` | :arrow_down: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/41/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `94.07% <100%> (-1.09%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/41?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/41?src=pr&el=footer). Last update [dc8169d...58466b1](https://codecov.io/gh/panjf2000/ants/pull/41?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-08-20T11:27:52.000+08:00,,0
gitlab:GithubPullRequest:522840285,gitlab:GithubPullRequest:308859272,"""@choleraehyq Please resolve the issues found by GolangCI first: https://github.com/panjf2000/ants/pull/41/files#r315493235""",gitlab:GithubUser:7496278,2019-08-20T11:42:02.000+08:00,,0
gitlab:GithubPullRequest:522961669,gitlab:GithubPullRequest:308859272,"""#24 """,gitlab:GithubUser:7496278,2019-08-20T18:55:10.000+08:00,,0
gitlab:GithubPullRequest:530284730,gitlab:GithubPullRequest:316337433,"""@panjf2000 """,gitlab:GithubUser:8923413,2019-09-11T16:46:39.000+08:00,,0
gitlab:GithubPullRequest:530286068,gitlab:GithubPullRequest:316337433,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/51?src=pr&el=h1) Report\n> Merging [#51](https://codecov.io/gh/panjf2000/ants/pull/51?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/280ac345a860e794df1268e15112db9a863900ca?src=pr&el=desc) will **decrease** coverage by `0.05%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/51/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/51?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #51      +/-   ##\n==========================================\n- Coverage    95.5%   95.45%   -0.06%     \n==========================================\n  Files           5        5              \n  Lines         356      352       -4     \n==========================================\n- Hits          340      336       -4     \n  Misses         10       10              \n  Partials        6        6\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/51?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/51/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `100% <100%> (ø)` | :arrow_up: |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/51/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `100% <100%> (ø)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/51?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/51?src=pr&el=footer). Last update [280ac34...6495acc](https://codecov.io/gh/panjf2000/ants/pull/51?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-09-11T16:50:11.000+08:00,,0
gitlab:GithubPullRequest:530298062,gitlab:GithubPullRequest:316337433,"""@choleraehyq \r\n这个 bug 我理解了，不过麻烦更新一下 PR，把`worker_func.go`也一并 fix 了，谢谢~""",gitlab:GithubUser:7496278,2019-09-11T17:22:40.000+08:00,,0
gitlab:GithubPullRequest:530309339,gitlab:GithubPullRequest:316337433,"""@panjf2000 done""",gitlab:GithubUser:8923413,2019-09-11T17:53:13.000+08:00,,0
gitlab:GithubPullRequest:530379720,gitlab:GithubPullRequest:316337433,"""@choleraehyq \r\nUnit tests 失败了""",gitlab:GithubUser:7496278,2019-09-11T21:27:00.000+08:00,,0
gitlab:GithubPullRequest:530388331,gitlab:GithubPullRequest:316337433,"""看了下代码，应该是 worker 的 defer 体中的\r\n```go\r\nw.pool.decRunning()\r\nw.pool.workerCache.Put(w)\r\n```\r\n还没执行完成而`TestPanicHandler`就已经在验证了：\r\n```go\r\nif p1.Running() != 0 {\r\n\tt.Errorf(\""pool should be empty after panic\"")\r\n}\r\n```\r\n从而导致了报错。""",gitlab:GithubUser:7496278,2019-09-11T21:47:33.000+08:00,,0
gitlab:GithubPullRequest:530445459,gitlab:GithubPullRequest:316337433,"""@panjf2000 done""",gitlab:GithubUser:8923413,2019-09-11T23:55:19.000+08:00,,0
gitlab:GithubPullRequest:530621521,gitlab:GithubPullRequest:316337433,"""Fixed #50 """,gitlab:GithubUser:7496278,2019-09-12T09:00:24.000+08:00,,0
gitlab:GithubPullRequest:621018414,gitlab:GithubPullRequest:410487606,"""> Thanks, but could you also fix that on another README?\r\n> https://github.com/panjf2000/ants/blob/master/README_ZH.md#%E4%B8%8E-http-server-%E9%9B%86%E6%88%90\r\n\r\n@panjf2000 \r\nOK, I've fixed it.""",gitlab:GithubUser:12907474,2020-04-29T14:40:55.000+08:00,,0
gitlab:GithubPullRequest:621028034,gitlab:GithubPullRequest:410487606,"""Thanks~""",gitlab:GithubUser:7496278,2020-04-29T15:09:03.000+08:00,,0
gitlab:GithubPullRequest:538890596,gitlab:GithubPullRequest:325179595,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/53?src=pr&el=h1) Report\n> Merging [#53](https://codecov.io/gh/panjf2000/ants/pull/53?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/66350c88dbd991f49ca95454e2d8485ca990fd30?src=pr&el=desc) will **decrease** coverage by `1.12%`.\n> The diff coverage is `91.97%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/53/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/53?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #53      +/-   ##\n==========================================\n- Coverage   95.28%   94.15%   -1.13%     \n==========================================\n  Files           5        8       +3     \n  Lines         339      445     +106     \n==========================================\n+ Hits          323      419      +96     \n- Misses         10       16       +6     \n- Partials        6       10       +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/53?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [worker\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/53/diff?src=pr&el=tree#diff-d29ya2VyX3F1ZXVlLmdv) | `75% <75%> (ø)` | |\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/53/diff?src=pr&el=tree#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `90.32% <90.32%> (ø)` | |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/53/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `94.73% <92.3%> (-0.72%)` | :arrow_down: |\n| [worker\\_stack.go](https://codecov.io/gh/panjf2000/ants/pull/53/diff?src=pr&el=tree#diff-d29ya2VyX3N0YWNrLmdv) | `96.29% <96.29%> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/53?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/53?src=pr&el=footer). Last update [66350c8...6ef45a0](https://codecov.io/gh/panjf2000/ants/pull/53?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-10-07T16:21:10.000+08:00,,0
gitlab:GithubPullRequest:539110331,gitlab:GithubPullRequest:325179595,"""@KevinBaiSg \r\nHello, 我 review 了你的 PR，为 `ants` 新增环形队列和二分搜索，非常棒👍的做法！我觉得大体思路没什么问题，你有时间看下我留的那些 comments，我们可以再继续讨论一下。\r\n\r\n另外还有一个建议：把 worker queue 的这些新增的代码文件移到 `internal` 目录里，因为定义了一些可导出的 struct 和函数，这些代码应该是不打算让用户直接引用的，所以按照规范得放到 internal 包里，这样才不会被用户误用。解决掉这些问题之后你就可以着手重构 `PoolWithFunc` 部分的代码了。\r\n\r\n感谢你对 `ants` 的关注和贡献😉""",gitlab:GithubUser:7496278,2019-10-08T01:05:22.000+08:00,,0
gitlab:GithubPullRequest:539303908,gitlab:GithubPullRequest:325179595,"""@panjf2000 潘少，我如果把这些文件移到 internal 里的话，我就没办法在这个 package 里使用 goWorker 和 goWorkerWithFunc 这两个类型。如果需要移动到 internal 的话，就得改为 GoWorker 和 GoWorkerWithFunc，但是这两个类型并不需要导出。另一种方法就是我的这些文件还在原位置，但是接口都改为小写，不导出""",gitlab:GithubUser:2813260,2019-10-08T11:55:11.000+08:00,,0
gitlab:GithubPullRequest:539306383,gitlab:GithubPullRequest:325179595,"""@KevinBaiSg \r\n两个处理方案：\r\n1. 按你说的维持原位置但是把类型都改成不导出的；\r\n2. 你直接把 worker.go 和 worker_func.go 也移到 internal 包里。""",gitlab:GithubUser:7496278,2019-10-08T12:03:49.000+08:00,,0
gitlab:GithubPullRequest:539570130,gitlab:GithubPullRequest:325179595,"""@KevinBaiSg \r\n现在这种做法我不太妥当：用 interface{} 代替具体的 worker 类型，主要是为了区分 goWorker 和 goWorkerFunc 吧，但是这样每次 Dequeue 之后都需要做一次类型断言，性能有所损耗，我考虑了一下，这两种 worker 类型的确不太好抽象成一个接口，两种 worker 接收的参数类型不同，一个是 func()，一个是 interface{}，我在想要不就不给 pool_func.go 加这两个新功能了，只给 pool.go 加，这样就不需要考虑抽象的问题了，而且 pool with function 这个类型用的场景也极少，基本上用 ants 的都是直接用 pool 的。\r\n\r\n另外，internal 包里的 package name 不可以还是用 ants，这样不合适，改成 internal 吧，还有传闭包这种方式在这地方我还是不太赞同，还是把现在的 worker struct 移到 internal 包里吧，然后 worker_queue 里的 items 还是跟一开始一样用 goWorker 类型。""",gitlab:GithubUser:7496278,2019-10-08T23:31:51.000+08:00,,0
gitlab:GithubPullRequest:539762738,gitlab:GithubPullRequest:325179595,"""@panjf2000 \r\n引入 interface{} 确实主要是为了适应 goWorker 和 goWorkerFunc，确实也是只有这个办法了。包名的事儿确实我拷贝文件的时候忽略了""",gitlab:GithubUser:2813260,2019-10-09T08:36:06.000+08:00,,0
gitlab:GithubPullRequest:539877021,gitlab:GithubPullRequest:325179595,"""@panjf2000 \r\n潘少，我看了一下 worker struct 还不能移到 internal 包里，他用到了 Pool 类型的私有函数，目前来看如果不使用 interface 和 闭包那种方法的话，只能把 queue 这些文件放到根目录下，然后把接口改成小写了""",gitlab:GithubUser:2813260,2019-10-09T15:31:48.000+08:00,,0
gitlab:GithubPullRequest:539878530,gitlab:GithubPullRequest:325179595,"""对，忘了这茬。。。\r\n\r\n看来只能放在根目录，然后把 struct 和函数名都改成非导出的了。""",gitlab:GithubUser:7496278,2019-10-09T15:36:42.000+08:00,,0
gitlab:GithubPullRequest:539996133,gitlab:GithubPullRequest:325179595,"""@KevinBaiSg \r\n还有两三个问题，我留 comments 了，你解决之后再用 git rebase 把 commits 合成一个 force push 一下，我就可以merge你的PR了。""",gitlab:GithubUser:7496278,2019-10-09T21:16:38.000+08:00,,0
gitlab:GithubPullRequest:539997357,gitlab:GithubPullRequest:325179595,"""好像也可以用github的工具合并commits，那到时候我自己合吧。""",gitlab:GithubUser:7496278,2019-10-09T21:19:50.000+08:00,,0
gitlab:GithubPullRequest:540021161,gitlab:GithubPullRequest:325179595,"""> 以用github的工具合并commits，那到时候我自己合吧\r\n\r\n👌 谢谢潘少，我今天 rebase 搞了几次有冲突，不敢乱动了""",gitlab:GithubUser:2813260,2019-10-09T22:16:19.000+08:00,,0
gitlab:GithubPullRequest:543451555,gitlab:GithubPullRequest:329127652,"""@polar9527 \r\n\r\nYour points make sense, but still, I don't think your PR is the final solution to these kinds of situations.\r\n\r\nThrowing a panic directly will break the whole process, which means all other goroutines are going to exit unexpectedly, it is unreasonable to implicate those irrelevant goroutines just because of one goroutine crash, We should come up with a thorough solution.\r\n\r\nSo I am afraid that I have to close this PR but still thank you for your aspiration for making a contribution to ants.\r\n""",gitlab:GithubUser:7496278,2019-10-18T10:07:14.000+08:00,,0
gitlab:GithubPullRequest:625011467,gitlab:GithubPullRequest:379435034,"""@panjf2000 这种 case 不加单测么？""",gitlab:GithubUser:8923413,2020-05-07T11:41:33.000+08:00,,0
gitlab:GithubPullRequest:559695081,gitlab:GithubPullRequest:346931859,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/66?src=pr&el=h1) Report\n> Merging [#66](https://codecov.io/gh/panjf2000/ants/pull/66?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/fd3841dd88c15fcc0e0ea94e606d980221ac5e09?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/66/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/66?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master      #66   +/-   ##\n=======================================\n  Coverage   95.61%   95.61%           \n=======================================\n  Files           8        8           \n  Lines         524      524           \n=======================================\n  Hits          501      501           \n  Misses         16       16           \n  Partials        7        7\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/66?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/66?src=pr&el=footer). Last update [fd3841d...b19edbd](https://codecov.io/gh/panjf2000/ants/pull/66?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2019-11-29T15:54:35.000+08:00,,0
gitlab:GithubPullRequest:590746919,gitlab:GithubPullRequest:379435034,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/79?src=pr&el=h1) Report\n> Merging [#79](https://codecov.io/gh/panjf2000/ants/pull/79?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/809379e65795c32ecd5915883aeceb894f07a6c7?src=pr&el=desc) will **increase** coverage by `0.05%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/79/graphs/tree.svg?width=650&token=JFa3laaGKq&height=150&src=pr)](https://codecov.io/gh/panjf2000/ants/pull/79?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #79      +/-   ##\n==========================================\n+ Coverage   95.61%   95.66%   +0.05%     \n==========================================\n  Files           8        8              \n  Lines         524      531       +7     \n==========================================\n+ Hits          501      508       +7     \n  Misses         16       16              \n  Partials        7        7\n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/79?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/79/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `95.03% <100%> (+0.1%)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/79/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `93.9% <0%> (+0.07%)` | :arrow_up: |\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/79/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `93.18% <0%> (+0.32%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/79?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/79?src=pr&el=footer). Last update [809379e...e7a2d37](https://codecov.io/gh/panjf2000/ants/pull/79?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-02-25T16:33:51.000+08:00,,0
gitlab:GithubPullRequest:615057163,gitlab:GithubPullRequest:404931293,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/87?src=pr&el=h1) Report\n> Merging [#87](https://codecov.io/gh/panjf2000/ants/pull/87?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/f33679bb799fe76b52d47d3172c40ce229463198&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/87/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/87?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master      #87   +/-   ##\n=======================================\n  Coverage   95.76%   95.76%           \n=======================================\n  Files           9        9           \n  Lines         543      543           \n=======================================\n  Hits          520      520           \n  Misses         16       16           \n  Partials        7        7           \n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/87?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/87?src=pr&el=footer). Last update [f33679b...402dcef](https://codecov.io/gh/panjf2000/ants/pull/87?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-04-17T13:53:31.000+08:00,,0
gitlab:GithubPullRequest:615185168,gitlab:GithubPullRequest:404931293,"""为什么要加一个 v2 的目录？""",gitlab:GithubUser:7496278,2020-04-17T19:04:33.000+08:00,,0
gitlab:GithubPullRequest:616015146,gitlab:GithubPullRequest:404931293,"""我猜你大概是理解有误，这个 v2 是 go modules 里面的版本号，是虚拟的路径，不是物理路径，发布 v2 有两种方式：1. 在当前项目下建立一个单独的 v2 目录用来存放新版本代码；2. 或者直接用 tag v2 表示，ants 用的是后一种，所以不需要。""",gitlab:GithubUser:7496278,2020-04-19T11:03:07.000+08:00,,0
gitlab:GithubPullRequest:620988133,gitlab:GithubPullRequest:410487606,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/89?src=pr&el=h1) Report\n> Merging [#89](https://codecov.io/gh/panjf2000/ants/pull/89?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/f33679bb799fe76b52d47d3172c40ce229463198&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/89/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/89?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master      #89   +/-   ##\n=======================================\n  Coverage   95.76%   95.76%           \n=======================================\n  Files           9        9           \n  Lines         543      543           \n=======================================\n  Hits          520      520           \n  Misses         16       16           \n  Partials        7        7           \n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/89?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/89?src=pr&el=footer). Last update [f33679b...51f1f51](https://codecov.io/gh/panjf2000/ants/pull/89?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-04-29T12:55:45.000+08:00,,0
gitlab:GithubPullRequest:621009321,gitlab:GithubPullRequest:410487606,"""Thanks, but could you also fix that on another README?\r\nhttps://github.com/panjf2000/ants/blob/master/README_ZH.md#%E4%B8%8E-http-server-%E9%9B%86%E6%88%90""",gitlab:GithubUser:7496278,2020-04-29T14:09:09.000+08:00,,0
gitlab:GithubPullRequest:626531506,gitlab:GithubPullRequest:415925259,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/91?src=pr&el=h1) Report\n> Merging [#91](https://codecov.io/gh/panjf2000/ants/pull/91?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/1c534853c887e0a7b0d56d51303bf09f201e26a0&el=desc) will **decrease** coverage by `0.64%`.\n> The diff coverage is `66.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/91/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/91?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master      #91      +/-   ##\n==========================================\n- Coverage   95.77%   95.12%   -0.65%     \n==========================================\n  Files           9        9              \n  Lines         544      554      +10     \n==========================================\n+ Hits          521      527       +6     \n- Misses         16       20       +4     \n  Partials        7        7              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/91?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [options.go](https://codecov.io/gh/panjf2000/ants/pull/91/diff?src=pr&el=tree#diff-b3B0aW9ucy5nbw==) | `89.47% <0.00%> (-10.53%)` | :arrow_down: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/91/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `95.23% <100.00%> (+0.09%)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/91/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `94.01% <100.00%> (+0.10%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/91?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/91?src=pr&el=footer). Last update [1c53485...b1ce6e8](https://codecov.io/gh/panjf2000/ants/pull/91?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-05-11T15:45:00.000+08:00,,0
gitlab:GithubPullRequest:626551625,gitlab:GithubPullRequest:415925259,"""为什么要配置这个值？""",gitlab:GithubUser:7496278,2020-05-11T16:23:45.000+08:00,,0
gitlab:GithubPullRequest:626563270,gitlab:GithubPullRequest:415925259,"""在我们的业务场景中，协程池处理的是io密集型任务，目前每个工作协程最多缓存一个任务，并发高的时候业务吞吐量上不去，我们希望每个工作协程能够在可接受范围内多缓存一部分任务""",gitlab:GithubUser:5227289,2020-05-11T16:46:43.000+08:00,,0
gitlab:GithubPullRequest:626574969,gitlab:GithubPullRequest:415925259,"""你对 `ants` 的调度模式的理解的就是错的，调用 Submit 方法提交任务的时候，同一个 worker 只能被一个调用方持有，不存在多个调用方都可以拿到同一个 worker 并往它的 chan 里塞任务。一个 worker 如果被一个调用方取得，则拿到该 worker 的下一个调用方肯定是在上一个调用方的任务已经被执行完之后，所以对于多核机器来说，worker 的 chan buffer 大小为 1 已经是最佳长度了，大于 1 是完全没必要的。\r\n\r\n如果要达到你期望的效果，那不是仅仅修改 `workerChanCap` 就可以的，整个调度模式都要改变。\r\n\r\n最后，并发量上不去和 `workerChanCap` 的长度没有直接关系吧，就算是按照你的想法一个 worker 可以缓存多个任务，整体的处理速度也不会变快，如果你仅仅是想要提升吞吐量，可以把 worker 的数量设置多一点，至于缓存任务可以放在业务层去做。""",gitlab:GithubUser:7496278,2020-05-11T17:08:17.000+08:00,,0
gitlab:GithubPullRequest:660597366,gitlab:GithubPullRequest:452382525,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/100?src=pr&el=h1) Report\n> Merging [#100](https://codecov.io/gh/panjf2000/ants/pull/100?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/b2666199751ef4fe666c175ba667d18a182b67e0&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/100/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/100?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master     #100   +/-   ##\n=======================================\n  Coverage   95.79%   95.79%           \n=======================================\n  Files           9        9           \n  Lines         547      547           \n=======================================\n  Hits          524      524           \n  Misses         16       16           \n  Partials        7        7           \n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/100?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/100?src=pr&el=footer). Last update [b266619...18623ce](https://codecov.io/gh/panjf2000/ants/pull/100?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-07-19T14:42:58.000+08:00,,0
gitlab:GithubPullRequest:660658637,gitlab:GithubPullRequest:452382525,"""Thanks~""",gitlab:GithubUser:7496278,2020-07-19T23:00:14.000+08:00,,0
gitlab:GithubPullRequest:667851445,gitlab:GithubPullRequest:461992435,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/103?src=pr&el=h1) Report\n> Merging [#103](https://codecov.io/gh/panjf2000/ants/pull/103?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/c32db55d3e7e19d8300760de03584072b6a9de93&el=desc) will **increase** coverage by `0.10%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/103/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/103?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #103      +/-   ##\n==========================================\n+ Coverage   95.79%   95.89%   +0.10%     \n==========================================\n  Files           9        9              \n  Lines         547      439     -108     \n==========================================\n- Hits          524      421     -103     \n+ Misses         16       11       -5     \n  Partials        7        7              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/103?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `94.78% <0.00%> (-0.46%)` | :arrow_down: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `93.84% <0.00%> (-0.06%)` | :arrow_down: |\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `100.00% <0.00%> (ø)` | |\n| [options.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-b3B0aW9ucy5nbw==) | `100.00% <0.00%> (ø)` | |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `100.00% <0.00%> (ø)` | |\n| [worker\\_stack.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-d29ya2VyX3N0YWNrLmdv) | `100.00% <0.00%> (ø)` | |\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `96.72% <0.00%> (+0.61%)` | :arrow_up: |\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/103/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `87.50% <0.00%> (+2.50%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/103?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/103?src=pr&el=footer). Last update [c32db55...f323aef](https://codecov.io/gh/panjf2000/ants/pull/103?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-08-03T15:16:44.000+08:00,,0
gitlab:GithubPullRequest:682679580,gitlab:GithubPullRequest:475457581,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/107?src=pr&el=h1) Report\n> Merging [#107](https://codecov.io/gh/panjf2000/ants/pull/107?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/21f632368adbd3b3af71038ab697a6585a40db62?el=desc) will **increase** coverage by `0.05%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/107/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/107?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #107      +/-   ##\n==========================================\n+ Coverage   95.79%   95.84%   +0.05%     \n==========================================\n  Files           9        9              \n  Lines         547      554       +7     \n==========================================\n+ Hits          524      531       +7     \n  Misses         16       16              \n  Partials        7        7              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/107?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/107/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `95.27% <100.00%> (+0.03%)` | :arrow_up: |\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/107/diff?src=pr&el=tree#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `96.20% <100.00%> (+0.09%)` | :arrow_up: |\n| [worker\\_stack.go](https://codecov.io/gh/panjf2000/ants/pull/107/diff?src=pr&el=tree#diff-d29ya2VyX3N0YWNrLmdv) | `100.00% <100.00%> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/107?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/107?src=pr&el=footer). Last update [21f6323...e2ccffc](https://codecov.io/gh/panjf2000/ants/pull/107?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-08-28T23:07:09.000+08:00,,0
gitlab:GithubPullRequest:683250300,gitlab:GithubPullRequest:475457581,"""> 假设在sync.Pool和切片底层数组同时持有同一个对象,不知道go的gc是什么行为?\r\n\r\nsync.Pool 里面的内容会在每次 GC 的时候被全部回收，但是如果还有 slice 持有某个内存地址(指针)的话，则这个内存地址本身不会被 GC 回收，但是 Pool 里的内容还是会被清除掉的。""",gitlab:GithubUser:7496278,2020-08-29T15:26:10.000+08:00,,0
gitlab:GithubPullRequest:683255851,gitlab:GithubPullRequest:475457581,"""sync.Pool印象中1.14后就不全部回收了,改成分代回收,避免gc后带来大量内存请求的压力.""",gitlab:GithubUser:49174849,2020-08-29T16:17:03.000+08:00,,0
gitlab:GithubPullRequest:702063359,gitlab:GithubPullRequest:496172205,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/111?src=pr&el=h1) Report\n> Merging [#111](https://codecov.io/gh/panjf2000/ants/pull/111?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/ef6017217221e20416d886c0231dd5134752ef4e?el=desc) will **decrease** coverage by `0.18%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/111/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/111?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #111      +/-   ##\n==========================================\n- Coverage   95.84%   95.66%   -0.19%     \n==========================================\n  Files           9        9              \n  Lines         554      554              \n==========================================\n- Hits          531      530       -1     \n- Misses         16       17       +1     \n  Partials        7        7              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/111?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [poolfunc.go](https://codecov.io/gh/panjf2000/ants/pull/111/diff?src=pr&el=tree#diff-cG9vbGZ1bmMuZ28=) | `93.90% <ø> (ø)` | |\n| [workerarray.go](https://codecov.io/gh/panjf2000/ants/pull/111/diff?src=pr&el=tree#diff-d29ya2VyYXJyYXkuZ28=) | `100.00% <ø> (ø)` | |\n| [workerfunc.go](https://codecov.io/gh/panjf2000/ants/pull/111/diff?src=pr&el=tree#diff-d29ya2VyZnVuYy5nbw==) | `100.00% <ø> (ø)` | |\n| [workerloopqueue.go](https://codecov.io/gh/panjf2000/ants/pull/111/diff?src=pr&el=tree#diff-d29ya2VybG9vcHF1ZXVlLmdv) | `96.20% <ø> (ø)` | |\n| [workerstack.go](https://codecov.io/gh/panjf2000/ants/pull/111/diff?src=pr&el=tree#diff-d29ya2Vyc3RhY2suZ28=) | `98.18% <ø> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/111?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/111?src=pr&el=footer). Last update [ef60172...7403b39](https://codecov.io/gh/panjf2000/ants/pull/111?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-10-01T19:12:42.000+08:00,,0
gitlab:GithubPullRequest:702064263,gitlab:GithubPullRequest:496172205,"""Not sure how the coverage reduced :P \r\nIt's just file names""",gitlab:GithubUser:11977524,2020-10-01T19:14:36.000+08:00,,0
gitlab:GithubPullRequest:702127407,gitlab:GithubPullRequest:496172205,"""That was talking about package name, it's no need to change file name like that.""",gitlab:GithubUser:7496278,2020-10-01T21:16:32.000+08:00,,0
gitlab:GithubPullRequest:702664424,gitlab:GithubPullRequest:496172205,"""Ok. I thought generally we don't use underscores in files name (except for _test) in go. Or at least that's the convention that I have seen around. We can close the PR if you want. It adds absolutely no value anyway :P""",gitlab:GithubUser:11977524,2020-10-02T18:52:19.000+08:00,,0
gitlab:GithubPullRequest:707590116,gitlab:GithubPullRequest:502102437,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/114?src=pr&el=h1) Report\n> Merging [#114](https://codecov.io/gh/panjf2000/ants/pull/114?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/ef6017217221e20416d886c0231dd5134752ef4e?el=desc) will **decrease** coverage by `1.90%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/114/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/114?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #114      +/-   ##\n==========================================\n- Coverage   95.84%   93.94%   -1.91%     \n==========================================\n  Files           9        9              \n  Lines         554      380     -174     \n==========================================\n- Hits          531      357     -174     \n+ Misses         16       14       -2     \n- Partials        7        9       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/114?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `91.34% <100.00%> (-3.93%)` | :arrow_down: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-cG9vbF9mdW5jLmdv) | `93.04% <100.00%> (-0.86%)` | :arrow_down: |\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-YW50cy5nbw==) | `80.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `92.72% <0.00%> (-3.48%)` | :arrow_down: |\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-d29ya2VyLmdv) | `100.00% <0.00%> (ø)` | |\n| [options.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-b3B0aW9ucy5nbw==) | `100.00% <0.00%> (ø)` | |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-d29ya2VyX2Z1bmMuZ28=) | `100.00% <0.00%> (ø)` | |\n| [worker\\_array.go](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree#diff-d29ya2VyX2FycmF5Lmdv) | `100.00% <0.00%> (ø)` | |\n| ... and [1 more](https://codecov.io/gh/panjf2000/ants/pull/114/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/114?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/114?src=pr&el=footer). Last update [ef60172...00691c6](https://codecov.io/gh/panjf2000/ants/pull/114?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-10-13T16:43:17.000+08:00,,0
gitlab:GithubPullRequest:708559165,gitlab:GithubPullRequest:502102437,"""Also please resolve this one:\r\nhttps://github.com/panjf2000/ants/blob/ad86bfa6d264d8c8ff8e4d083150cf147d4ac1ff/pool_func.go#L274-L286\r\nas well.""",gitlab:GithubUser:7496278,2020-10-15T01:47:10.000+08:00,,0
gitlab:GithubPullRequest:708861173,gitlab:GithubPullRequest:502102437,"""> Also please resolve this one:\r\n> https://github.com/panjf2000/ants/blob/ad86bfa6d264d8c8ff8e4d083150cf147d4ac1ff/pool_func.go#L274-L286\r\n> \r\n> \r\n> as well.\r\n\r\nSure, no problem""",gitlab:GithubUser:29589055,2020-10-15T10:50:03.000+08:00,,0
gitlab:GithubPullRequest:708872488,gitlab:GithubPullRequest:502102437,"""> I believe that this bugfix is intuitive enough, no need to add unit tests, please remove it.\r\n\r\nGotcha😃""",gitlab:GithubUser:29589055,2020-10-15T11:27:14.000+08:00,,0
gitlab:GithubPullRequest:708874953,gitlab:GithubPullRequest:502102437,"""Thanks~""",gitlab:GithubUser:7496278,2020-10-15T11:36:10.000+08:00,,0
gitlab:GithubPullRequest:709276357,gitlab:GithubPullRequest:502102437,"""> Thanks~\r\n\r\n@panjf2000 \r\nBro, when will you consider adding a new tag？😃""",gitlab:GithubUser:29589055,2020-10-15T20:22:32.000+08:00,,0
gitlab:GithubPullRequest:711204318,gitlab:GithubPullRequest:505486248,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/117?src=pr&el=h1) Report\n> Merging [#117](https://codecov.io/gh/panjf2000/ants/pull/117?src=pr&el=desc) into [master](https://codecov.io/gh/panjf2000/ants/commit/94a7a7f1cb3a11fcaaf9608c94fe1dc0bcd98ab0?el=desc) will **not change** coverage.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/117/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/117?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master     #117   +/-   ##\n=======================================\n  Coverage   93.94%   93.94%           \n=======================================\n  Files           9        9           \n  Lines         380      380           \n=======================================\n  Hits          357      357           \n  Misses         14       14           \n  Partials        9        9           \n```\n\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/117?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/117/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `91.34% <100.00%> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/117?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/117?src=pr&el=footer). Last update [94a7a7f...05a3664](https://codecov.io/gh/panjf2000/ants/pull/117?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2020-10-18T23:03:42.000+08:00,,0
gitlab:GithubPullRequest:711467640,gitlab:GithubPullRequest:505486248,"""@panjf2000 ok, i close it, tks""",gitlab:GithubUser:7411249,2020-10-19T09:58:40.000+08:00,,0
gitlab:GithubPullRequest:749374330,gitlab:GithubPullRequest:543900177,"""Thank you for the effort on this, unfortunately, there is an issue of building code on the Travis CI, I'm working on the CI migration from Travis to GitHub action, thus this PR will be paused until the migration job is done.""",gitlab:GithubUser:7496278,2020-12-22T14:39:54.000+08:00,,0
gitlab:GithubPullRequest:788762033,gitlab:GithubPullRequest:582870188,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/136?src=pr&el=h1) Report\n> Merging [#136](https://codecov.io/gh/panjf2000/ants/pull/136?src=pr&el=desc) (5431f73) into [master](https://codecov.io/gh/panjf2000/ants/commit/fd8d670fd09489e6ea7693c0a382ba85d2694f16?el=desc) (fd8d670) will **decrease** coverage by `0.01%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/136/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq)](https://codecov.io/gh/panjf2000/ants/pull/136?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #136      +/-   ##\n==========================================\n- Coverage   93.94%   93.93%   -0.02%     \n==========================================\n  Files           9        9              \n  Lines         380      379       -1     \n==========================================\n- Hits          357      356       -1     \n  Misses         14       14              \n  Partials        9        9              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests | `93.93% <0.00%> (-0.02%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/136?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/136/diff?src=pr&el=tree#diff-cG9vbC5nbw==) | `91.26% <0.00%> (-0.09%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/136?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/136?src=pr&el=footer). Last update [fd8d670...5431f73](https://codecov.io/gh/panjf2000/ants/pull/136?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n""",gitlab:GithubUser:22429695,2021-03-02T17:27:33.000+08:00,,0
gitlab:GithubPullRequest:792878722,gitlab:GithubPullRequest:586207150,"""I appreciate your work on this, unfortunately, your PR is based on the wrong assumption, the pool size is allowed to be negative in which case the pool would be unlimited.""",gitlab:GithubUser:7496278,2021-03-09T00:29:36.000+08:00,,0
gitlab:GithubPullRequest:797468058,gitlab:GithubPullRequest:586207150,"""I appreciate your work here,  unfortunately, your PR is based on a wrong assumption, in fact, it's allowed to set `size` to -1 when `p.options.PreAlloc` is false, assigning -1 to the pool size will get you an unlimited goroutine pool.""",gitlab:GithubUser:7496278,2021-03-12T20:45:48.000+08:00,,0
gitlab:GithubPullRequest:797528403,gitlab:GithubPullRequest:543900177,"""Now that `ants` has been migrated from travis CI to Github Actions, then don't bother to update `.travis.yml`, if you want to do something about improving CI of `ants`, please move your focus to Github CI workflows, thanks~""",gitlab:GithubUser:7496278,2021-03-12T22:35:31.000+08:00,,0
gitlab:GithubPullRequest:812269051,gitlab:GithubPullRequest:607755003,"""第一次提交开源项目，这个集成测试的有点看不懂，基本都没有通过。研究研究""",gitlab:GithubUser:41562937,2021-04-02T09:36:08.000+08:00,,0
gitlab:GithubPullRequest:812290824,gitlab:GithubPullRequest:607755003,"""pool 本身就是全局的，为什么还要再在外面包一层，搞一个 pool 的 pool？我没看出来这么做的价值，而且就算你一定要做这个功能，也是在业务层去做，放到底层去做不合理。""",gitlab:GithubUser:7496278,2021-04-02T11:01:55.000+08:00,,0
gitlab:GithubPullRequest:812305942,gitlab:GithubPullRequest:607755003,"""实现的是返回顺序与提交顺序一致的pool。\r\n\r\n pool 的 pool？我认为不用再实现一个类似的机制，能复用尽量复用。\r\n\r\n有没有价值，在于用户。用了就有，不用就没有。\r\n\r\n```\r\nfunc demoPoolFunc1(args interface{}) {\r\n\tn := args.(int)\r\n\ttime.Sleep(time.Duration(n) * time.Millisecond)\r\n}\r\n\r\nfunc TestSubmit(t *testing.T) {\r\n\tp, _ := NewPool(10)\r\n\r\n\tsubmit := func(arg interface{}) error {\r\n\t\treturn p.Submit(func() {\r\n\t\t\tdemoPoolFunc1(arg)\r\n\t\t})\r\n\t}\r\n\r\n\tfor i := 0; i < 100; i++ {\r\n\t\t_ = submit(i)\r\n\t}\r\n}\r\n```\r\n\r\n这样也能实现 PoolWithFunc 的功能""",gitlab:GithubUser:41562937,2021-04-02T12:09:44.000+08:00,,0
gitlab:GithubPullRequest:812327070,gitlab:GithubPullRequest:607755003,"""顺序执行任务的需求是因为有些场景下任务之间的执行有依赖，比如 B 的执行要保证 A 已经执行完成，这个有实际意义，但如果还是并发执行，而只是返回结果的时候是顺序的，则没有太大的意义，就算有现实场景，我感觉也是很少的。""",gitlab:GithubUser:7496278,2021-04-02T13:28:23.000+08:00,,0
gitlab:GithubPullRequest:850825826,gitlab:GithubPullRequest:654684379,"""Why bother when we already have https://github.com/panjf2000/ants/blob/master/pool_func.go?""",gitlab:GithubUser:7496278,2021-05-29T20:35:39.000+08:00,,0
gitlab:GithubPullRequest:850975087,gitlab:GithubPullRequest:654684379,"""It's not the same, for example, i need to have one pool for service without redefining. And sometimes I need to submit task with arguments, which will be captured without this functional. Now, I use an own solution for this.\r\nYour functional offers to create a new pool (for one time?).""",gitlab:GithubUser:58211133,2021-05-30T18:14:30.000+08:00,,0
gitlab:GithubPullRequest:851008977,gitlab:GithubPullRequest:654684379,"""Sorry, I don't get your point here, would you give me one case where the current API doesn't work and yours does?""",gitlab:GithubUser:7496278,2021-05-30T22:27:09.000+08:00,,0
gitlab:GithubPullRequest:861195411,gitlab:GithubPullRequest:669972849,"""This PR could introduce a problem.\r\n\r\n```golang\r\n// The address of two struct{} values may be the same.\r\n\r\nvar a, b struct{}\r\nfmt.Println(&a == &b) // true\r\n```\r\n\r\n### My case\r\n```golang\r\npackage main\r\n\r\nimport (\r\n\t\""fmt\""\r\n)\r\n\r\nvar stopArg interface{} = &struct{}{}\r\nvar stopArg1 interface{} = &struct{}{}\r\nvar stopArg2 interface{} = &struct{}{}\r\n\r\nfunc main() {\r\n\tcheck(stopArg1)\r\n\tcheck(stopArg2)\r\n}\r\n\r\nfunc check(iface interface{}) {\r\n\tif iface == stopArg {\r\n\t\tfmt.Println(\""RETURN\"")\r\n\t\treturn\r\n\t}\r\n\tfmt.Println(\""RUN\"")\r\n}\r\n\r\n```\r\n\r\n### OUTPUT\r\n```sh\r\nRETURN\r\nRETURN\r\n\r\n[Process exited 0]\r\n```\r\n\r\nI'm sorry that I offended you. That wasn't my intent.""",gitlab:GithubUser:29589055,2021-06-15T13:57:12.000+08:00,,0
gitlab:GithubPullRequest:861197255,gitlab:GithubPullRequest:669972849,"""@bingoohuang """,gitlab:GithubUser:29589055,2021-06-15T14:00:48.000+08:00,,0
gitlab:GithubPullRequest:861557878,gitlab:GithubPullRequest:669972849,"""@Mutated1994 thanks for your pointing out the potential bug for the stopArg definition\r\n\r\nI fixed to `var stopArg interface{} = &struct{ a byte }{}` and the test cases like \r\n\r\n```go\r\nfunc TestAntsPoolWithFuncNilParam(t *testing.T) {\r\n\tvar old1 interface{} = &struct{ a byte }{}\r\n\tvar old2 interface{} = &struct{ a byte }{}\r\n\tassert.True(t, old1 != old2)\r\n\r\n\tisStopArg := func(v interface{}) bool { return v == stopArg }\r\n\r\n\tvar a1 interface{} = &struct{ a byte }{}\r\n\tvar a2 interface{} = &struct{ a byte }{}\r\n\tvar a3 interface{} = &struct{ a byte }{}\r\n\tassert.False(t, a1 == a2)\r\n\tassert.False(t, isStopArg(a1))\r\n\tassert.False(t, isStopArg(a2))\r\n\tassert.False(t, isStopArg(a3))\r\n\tassert.True(t, isStopArg(stopArg))\r\n}\r\n\r\n``` \r\n\r\nplease have a code view for the last change, thanks very much.\r\n""",gitlab:GithubUser:1940588,2021-06-15T22:40:27.000+08:00,,0
gitlab:GithubPullRequest:862818008,gitlab:GithubPullRequest:669972849,"""> @Mutated1994 thanks for your pointing out the potential bug for the stopArg definition\r\n> \r\n> I fixed to `var stopArg interface{} = &struct{ a byte }{}` and the test cases like\r\n> \r\n> ```go\r\n> func TestAntsPoolWithFuncNilParam(t *testing.T) {\r\n> \tvar old1 interface{} = &struct{ a byte }{}\r\n> \tvar old2 interface{} = &struct{ a byte }{}\r\n> \tassert.True(t, old1 != old2)\r\n> \r\n> \tisStopArg := func(v interface{}) bool { return v == stopArg }\r\n> \r\n> \tvar a1 interface{} = &struct{ a byte }{}\r\n> \tvar a2 interface{} = &struct{ a byte }{}\r\n> \tvar a3 interface{} = &struct{ a byte }{}\r\n> \tassert.False(t, a1 == a2)\r\n> \tassert.False(t, isStopArg(a1))\r\n> \tassert.False(t, isStopArg(a2))\r\n> \tassert.False(t, isStopArg(a3))\r\n> \tassert.True(t, isStopArg(stopArg))\r\n> }\r\n> ```\r\n> \r\n> please have a code view for the last change, thanks very much.\r\n\r\nDude, it's my pleasure.\r\n\r\nLGTM""",gitlab:GithubUser:29589055,2021-06-17T08:17:39.000+08:00,,0
gitlab:GithubPullRequest:864392399,gitlab:GithubPullRequest:669972849,"""Why does `ants` need this?""",gitlab:GithubUser:7496278,2021-06-19T19:16:17.000+08:00,,0
gitlab:GithubPullRequest:864393533,gitlab:GithubPullRequest:669972849,"""manbe you can ask, why does not ants support this. \r\n\r\nThere is no need for ants to limit users to pass a nil argument to their register function as some special meaning.""",gitlab:GithubUser:1940588,2021-06-19T19:27:00.000+08:00,,0
gitlab:GithubPullRequest:864575927,gitlab:GithubPullRequest:669972849,"""**Just because the fact that we can do, doesn't mean we should do**.\r\n\r\nI'm afraid you'll have to prove that this PR is necessary for users, BTW, I also believe there are ways to achieve the same effect based on the existing APIs.""",gitlab:GithubUser:7496278,2021-06-21T00:03:52.000+08:00,,0
gitlab:GithubPullRequest:864631123,gitlab:GithubPullRequest:669972849,"""> **Just because the fact that we can do, doesn't mean we should do**.\r\n> \r\n> I'm afraid you'll have to prove that this PR is necessary for users, BTW, I also believe there are ways to achieve the same effect based on the existing APIs.\r\n\r\nTBH, I couldn't agree more.""",gitlab:GithubUser:29589055,2021-06-21T07:54:54.000+08:00,,0
gitlab:GithubPullRequest:864644439,gitlab:GithubPullRequest:669972849,"""> **Just because the fact that we can do, doesn't mean we should do**.\r\n> \r\n> I'm afraid you'll have to prove that this PR is necessary for users, BTW, I also believe there are ways to achieve the same effect based on the existing APIs.\r\n\r\nYeah, I agree with you, but it's the user's choice to make a decision to do or not to do, not the common library or the language itself.\r\n\r\nTLDR, It's a user's duty, not the ants'.""",gitlab:GithubUser:1940588,2021-06-21T08:46:34.000+08:00,,0
gitlab:GithubPullRequest:877570325,gitlab:GithubPullRequest:686947632,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/172?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) Report\n> Merging [#172](https://codecov.io/gh/panjf2000/ants/pull/172?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (57eb787) into [master](https://codecov.io/gh/panjf2000/ants/commit/4b16a811165326723182488f21b22ea6761418f4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (4b16a81) will **increase** coverage by `1.27%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/172/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)](https://codecov.io/gh/panjf2000/ants/pull/172?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #172      +/-   ##\n==========================================\n+ Coverage   91.79%   93.06%   +1.27%     \n==========================================\n  Files           9        9              \n  Lines         402      476      +74     \n==========================================\n+ Hits          369      443      +74     \n  Misses         24       24              \n  Partials        9        9              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests | `93.06% <ø> (+1.27%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/172?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) | Coverage Δ | |\n|---|---|---|\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyLmdv) | `100.00% <0.00%> (ø)` | |\n| [options.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-b3B0aW9ucy5nbw==) | `100.00% <0.00%> (ø)` | |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX2Z1bmMuZ28=) | `100.00% <0.00%> (ø)` | |\n| [worker\\_array.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX2FycmF5Lmdv) | `100.00% <0.00%> (ø)` | |\n| [worker\\_stack.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX3N0YWNrLmdv) | `100.00% <0.00%> (ø)` | |\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `93.65% <0.00%> (+0.92%)` | :arrow_up: |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-cG9vbF9mdW5jLmdv) | `91.15% <0.00%> (+1.31%)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-cG9vbC5nbw==) | `88.97% <0.00%> (+1.58%)` | :arrow_up: |\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/172/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-YW50cy5nbw==) | `87.50% <0.00%> (+7.50%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/172?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/172?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Last update [4b16a81...57eb787](https://codecov.io/gh/panjf2000/ants/pull/172?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n""",gitlab:GithubUser:22429695,2021-07-10T13:23:50.000+08:00,,0
gitlab:GithubPullRequest:878322262,gitlab:GithubPullRequest:686947632,"""Thanks, switched to a waitgroup like the other tests to resolve that close of a closed channel. \r\nFixing commit, it didnt squash. """,gitlab:GithubUser:12317,2021-07-12T22:22:29.000+08:00,,0
gitlab:GithubPullRequest:878344831,gitlab:GithubPullRequest:686947632,"""Thanks~""",gitlab:GithubUser:7496278,2021-07-12T22:52:10.000+08:00,,0
gitlab:GithubPullRequest:883804768,gitlab:GithubPullRequest:693963625,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/174?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) Report\n> Merging [#174](https://codecov.io/gh/panjf2000/ants/pull/174?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (1a658c0) into [master](https://codecov.io/gh/panjf2000/ants/commit/63489606efd8498bdd76c375b2913e7decaa1e63?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (6348960) will **decrease** coverage by `0.03%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/174/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)](https://codecov.io/gh/panjf2000/ants/pull/174?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #174      +/-   ##\n==========================================\n- Coverage   93.06%   93.03%   -0.04%     \n==========================================\n  Files           9        9              \n  Lines         476      603     +127     \n==========================================\n+ Hits          443      561     +118     \n- Misses         24       33       +9     \n  Partials        9        9              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests | `93.03% <ø> (-0.04%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/174?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) | Coverage Δ | |\n|---|---|---|\n| [ants.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-YW50cy5nbw==) | `85.00% <0.00%> (-2.50%)` | :arrow_down: |\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `92.40% <0.00%> (-1.25%)` | :arrow_down: |\n| [worker.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyLmdv) | `100.00% <0.00%> (ø)` | |\n| [options.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-b3B0aW9ucy5nbw==) | `100.00% <0.00%> (ø)` | |\n| [worker\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX2Z1bmMuZ28=) | `100.00% <0.00%> (ø)` | |\n| [worker\\_stack.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX3N0YWNrLmdv) | `100.00% <0.00%> (ø)` | |\n| [pool\\_func.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-cG9vbF9mdW5jLmdv) | `91.62% <0.00%> (+0.46%)` | :arrow_up: |\n| [pool.go](https://codecov.io/gh/panjf2000/ants/pull/174/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-cG9vbC5nbw==) | `89.88% <0.00%> (+0.90%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/174?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/174?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Last update [6348960...1a658c0](https://codecov.io/gh/panjf2000/ants/pull/174?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n""",gitlab:GithubUser:22429695,2021-07-21T09:00:07.000+08:00,,0
gitlab:GithubPullRequest:883858469,gitlab:GithubPullRequest:693963625,"""Thanks""",gitlab:GithubUser:7496278,2021-07-21T11:29:35.000+08:00,,0
gitlab:GithubPullRequest:888355009,gitlab:GithubPullRequest:696437287,"""It seems that you're trying to make the goroutine of `purgePeriodically` quit once the `pool.Release()` is called, however, what's wrong about this goroutine quitting only after all other worker goroutines quit?""",gitlab:GithubUser:7496278,2021-07-28T22:27:41.000+08:00,,0
gitlab:GithubPullRequest:917816964,gitlab:GithubPullRequest:731946063,"""Thanks""",gitlab:GithubUser:7496278,2021-09-13T11:57:28.000+08:00,,0
gitlab:GithubPullRequest:922407102,gitlab:GithubPullRequest:736936308,"""Thanks~""",gitlab:GithubUser:7496278,2021-09-19T10:56:43.000+08:00,,0
gitlab:GithubPullRequest:942321899,gitlab:GithubPullRequest:757412327,"""Thanks~""",gitlab:GithubUser:7496278,2021-10-13T21:42:52.000+08:00,,0
gitlab:GithubPullRequest:969854090,gitlab:GithubPullRequest:770998086,"""ping @panjf2000 """,gitlab:GithubUser:5268051,2021-11-16T12:41:12.000+08:00,,0
gitlab:GithubPullRequest:971555581,gitlab:GithubPullRequest:770998086,"""Sorry for the delay, I've checked out your PR and I don't see why this is an optimization, this is a pretty simple `goto` which saves some indents.""",gitlab:GithubUser:7496278,2021-11-17T20:59:20.000+08:00,,0
gitlab:GithubPullRequest:971592114,gitlab:GithubPullRequest:763816683,"""also ping @panjf2000 ,这个测试得到的结果应该是在有大量goroutine （goroutine 存在耗时）的时候，不建议使用backoff，  直接runtime.Gosched()""",gitlab:GithubUser:22676124,2021-11-17T21:39:17.000+08:00,,0
gitlab:GithubPullRequest:971645257,gitlab:GithubPullRequest:763816683,"""这个不太好掌控，启动之时用什么类型的锁已经定死了，真正运行过程中是什么情况也无法知晓。""",gitlab:GithubUser:7496278,2021-11-17T22:40:36.000+08:00,,0
gitlab:GithubPullRequest:972930842,gitlab:GithubPullRequest:770998086,"""OK，I'll close it 👌 """,gitlab:GithubUser:5268051,2021-11-18T22:44:40.000+08:00,,0
gitlab:GithubPullRequest:975050035,gitlab:GithubPullRequest:763816683,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/192?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) Report\n> Merging [#192](https://codecov.io/gh/panjf2000/ants/pull/192?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (d16a241) into [master](https://codecov.io/gh/panjf2000/ants/commit/f62e8ab1e0a951ab278ac794979b27ebd89ab0b5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (f62e8ab) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/192/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)](https://codecov.io/gh/panjf2000/ants/pull/192?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n\n```diff\n@@           Coverage Diff           @@\n##           master     #192   +/-   ##\n=======================================\n  Coverage   93.03%   93.03%           \n=======================================\n  Files           9        9           \n  Lines         603      603           \n=======================================\n  Hits          561      561           \n  Misses         33       33           \n  Partials        9        9           \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests | `93.03% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/192?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/192?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Last update [76ce0ce...d16a241](https://codecov.io/gh/panjf2000/ants/pull/192?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n""",gitlab:GithubUser:22429695,2021-11-22T11:51:04.000+08:00,,0
gitlab:GithubPullRequest:975300972,gitlab:GithubPullRequest:763816683,"""> 格式化一下代码文件。\r\n\r\nDone，不太确定是否操作正确，感觉可以添加一下相关的说明 。；）""",gitlab:GithubUser:22676124,2021-11-22T17:03:30.000+08:00,,0
gitlab:GithubPullRequest:975357332,gitlab:GithubPullRequest:763816683,"""> > 格式化一下代码文件。\r\n> \r\n> Done，不太确定是否操作正确，感觉可以添加一下相关的说明 。；）\r\n\r\n插件会自动检查并显示具体错误在 github action 上的，可以直接看。""",gitlab:GithubUser:7496278,2021-11-22T18:06:53.000+08:00,,0
gitlab:GithubPullRequest:982553954,gitlab:GithubPullRequest:791490205,"""Does this change make any noticeable improvement? please provide some benchmark data.""",gitlab:GithubUser:7496278,2021-11-30T19:37:10.000+08:00,,0
gitlab:GithubPullRequest:982764755,gitlab:GithubPullRequest:791490205,"""Benchmark code below\r\n```go\r\nfunc Benchmark_calMid(b *testing.B) {\r\n\thigh := 1000000\r\n\tfor i := 0; i < b.N; i++ {\r\n\t\tfor low := high / 10; low < high; low++ {\r\n\t\t\t_ = (low + high) / 2\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunc Benchmark_calMid1(b *testing.B) {\r\n\thigh := 1000000\r\n\tfor i := 0; i < b.N; i++ {\r\n\t\tfor low := high / 10; low < high; low++ {\r\n\t\t\t_ = low + ((high - low) >> 1)\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAnd this is my benchmark result\r\n```\r\nPS E:\\playground\\hello-world> go test -bench . -benchtime 10000x\r\ngoos: windows\r\ngoarch: amd64\r\npkg: hello-world\r\ncpu: 11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz\r\nBenchmark_calMid-8         10000            223530 ns/op\r\nBenchmark_calMid1-8        10000            222998 ns/op\r\nPASS\r\nok      hello-world     4.524s\r\nPS E:\\playground\\hello-world> go test -bench . -benchtime 10000x\r\ngoos: windows\r\ngoarch: amd64\r\npkg: hello-world\r\ncpu: 11th Gen Intel(R) Core(TM) i5-1135G7 @ 2.40GHz\r\nBenchmark_calMid-8         10000            224030 ns/op\r\nBenchmark_calMid1-8        10000            222630 ns/op\r\nPASS\r\nok      hello-world     4.512s\r\n```\r\n\r\nIt seems that the performance of the two writing methods in the benchmark test is not much different, but the first writing method could lead to integer overflow problem.""",gitlab:GithubUser:27898261,2021-11-30T23:49:02.000+08:00,,0
gitlab:GithubPullRequest:982782466,gitlab:GithubPullRequest:791490205,"""> It seems that the performance of the two writing methods in the benchmark test is not much different, but the first writing method could lead to an integer overflow problem.\r\n\r\nAlthough your PR can avoid integer overflows, I doubt that the number of goroutines in one user process will exceed the maximum value of an integer, besides, not only does this change not improve performance, but it also reduces code readability, thus, I appreciate your work here, but I don't think this change is worthy to merge, thanks.""",gitlab:GithubUser:7496278,2021-12-01T00:07:50.000+08:00,,0
gitlab:GithubPullRequest:983168562,gitlab:GithubPullRequest:791490205,"""alright, I will close it.""",gitlab:GithubUser:27898261,2021-12-01T08:41:38.000+08:00,,0
gitlab:GithubPullRequest:1010041453,gitlab:GithubPullRequest:816835878,"""# [Codecov](https://codecov.io/gh/panjf2000/ants/pull/206?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) Report\n> Merging [#206](https://codecov.io/gh/panjf2000/ants/pull/206?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (1b95a08) into [master](https://codecov.io/gh/panjf2000/ants/commit/1e897421860606afc3d1304cafe5cd187cee13e9?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) (1e89742) will **increase** coverage by `0.34%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/panjf2000/ants/pull/206/graphs/tree.svg?width=650&height=150&src=pr&token=JFa3laaGKq&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)](https://codecov.io/gh/panjf2000/ants/pull/206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n\n```diff\n@@            Coverage Diff             @@\n##           master     #206      +/-   ##\n==========================================\n+ Coverage   93.03%   93.37%   +0.34%     \n==========================================\n  Files           9        9              \n  Lines         603      634      +31     \n==========================================\n+ Hits          561      592      +31     \n  Misses         33       33              \n  Partials        9        9              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| unittests | `93.37% <100.00%> (+0.34%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/panjf2000/ants/pull/206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan) | Coverage Δ | |\n|---|---|---|\n| [worker\\_loop\\_queue.go](https://codecov.io/gh/panjf2000/ants/pull/206/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan#diff-d29ya2VyX2xvb3BfcXVldWUuZ28=) | `94.54% <100.00%> (+2.14%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/panjf2000/ants/pull/206?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/panjf2000/ants/pull/206?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Last update [1e89742...1b95a08](https://codecov.io/gh/panjf2000/ants/pull/206?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=Andy+Pan).\n""",gitlab:GithubUser:22429695,2022-01-11T22:53:52.000+08:00,,0
